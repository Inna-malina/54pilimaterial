{"version":3,"file":"main-form.js","sources":["main-form.js"],"sourcesContent":["let forms = document.querySelectorAll('form');\r\n\r\n\r\nlet message = {\r\n    loading: 'Загрузка',\r\n    success: 'Спасибо, скоро мы с вами свяжемся',\r\n    failure: 'Что-то пошло не так. Попробуйте ещё раз, чуть позже.'\r\n};\r\n\r\nforms.forEach(function (item) {\r\n    postData(item);\r\n});\r\n\r\nfunction postData(form) {\r\n    form.addEventListener('submit', function (elem) {\r\n        elem.preventDefault();\r\n\r\n        // let statusMassage = document.createElement('div');\r\n        // statusMassage.classList.add('status');\r\n        // statusMassage.textContent = message.loading;\r\n        // form.append(statusMassage);\r\n\r\n\r\n        let request = new XMLHttpRequest();\r\n        request.open('POST', 'server.php');\r\n\r\n        // request.setRequestHeader('Content-type', 'multipart/form-data');\r\n        let formData = new FormData(form);\r\n\r\n        request.send(formData);\r\n\r\n        request.addEventListener('load', function () {\r\n            if (request.status === 200) {\r\n\r\n                // statusMassage.textContent = message.success;\r\n                alert(message.success);\r\n\r\n\r\n\r\n\r\n                form.reset();\r\n            } else {\r\n                // statusMassage.textContent = message.failure;\r\n                alert(message.failure);\r\n            }\r\n        });\r\n    });\r\n}\r\nexport default postData;"],"names":["let","forms","document","querySelectorAll","message","loading","success","failure","postData","form","addEventListener","elem","preventDefault","request","XMLHttpRequest","open","formData","FormData","send","status","alert","reset","forEach","item"],"mappings":"AAAAA,IAAIC,MAAQC,SAASC,iBAAiB,QAGlCC,QAAU,CACVC,QAAS,WACTC,QAAS,oCACTC,QAAS,wDAOb,SAASC,SAASC,GACdA,EAAKC,iBAAiB,SAAU,SAAUC,GACtCA,EAAKC,iBAQLZ,IAAIa,EAAU,IAAIC,eAClBD,EAAQE,KAAK,OAAQ,cAGjBC,EAAW,IAAIC,SAASR,GAE5BI,EAAQK,KAAKF,GAEbH,EAAQH,iBAAiB,OAAQ,WACN,MAAnBG,EAAQM,QAGRC,MAAMhB,QAAQE,SAKdG,EAAKY,SAGLD,MAAMhB,QAAQG,aAlC9BN,MAAMqB,QAAQ,SAAUC,GACpBf,SAASe,oBAsCEf"}